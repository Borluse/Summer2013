using UnityEngine;
using System.Collections;

public class PlayerSpawner : MonoBehaviour {
	public Transform PlayerPrefab;
	public Transform Player;
	
	private Vector3 playerPosition;
	
	private float nextSpawnTime;
	
	void Awake() {
		this.nextSpawnTime = -1f;
	}
	
	// Update is called once per frame
	void Update () {
		if (Player == null) {
			if (this.nextSpawnTime < 0) {
				this.nextSpawnTime = Time.time + 1.5f;
			} else if (Time.time >= this.nextSpawnTime) {
				Player = SpawnUtility.Spawn(PlayerPrefab, playerPosition, PlayerPrefab.transform.rotation);
				nextSpawnTime = -1;
			}
		} else {
			playerPosition = Player.position;
		}
	}
}
